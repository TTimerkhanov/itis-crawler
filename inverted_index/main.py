import collections
import configparser
import os
import re

import py2neo
import requests
from bs4 import BeautifulSoup
from nltk import PorterStemmer
from sty import fg
import urllib3


def generate_result(text, url, terms: list, similarity):
    for term in terms:
        text = text.replace(term, fg.red + term + fg.rs)
    print(f'URL is {url}')
    print(text)
    print(similarity)


def calculate_tf_for_query(tokens):
    tf_text = collections.Counter(tokens)
    for i in tf_text:
        tf_text[i] = tf_text[i] / float(len(tokens))
    return tf_text


def main(graph):
    search_term = input("Enter term(s) to search: ")

    porter = PorterStemmer()
    stemmed = [porter.stem(word.lower()) for word in search_term.split()]
    tf = calculate_tf_for_query(stemmed)
    query_tf = []
    for t in tf:
        query_tf.append(f'{t}: {tf[t]}')

    print(','.join(query_tf))

    clauses = [f'EXISTS ((d)-[:HAS_TERM]-(:Term{{word:"{word}"}}))' for word in stemmed]

    # query = f"MATCH (t:Term)-[:HAS_TERM]-(d:Document) WHERE {' AND '.join(clauses)} RETURN DISTINCT id(d), d.original_text, d.url"
    # data = graph.run(query)

    query = f"""
    WITH {{{','.join(query_tf)}}} as query
    MATCH (d:Document)-[rel]-(t:Term) WHERE t.word in keys(query)
    MATCH (d)-[rel1:HAS_TERM]-(:Term)
    WITH reduce(acum = 0.0, n IN collect(rel1)| acum + n.tf_idf^2) AS modA, d, t, rel, query
    WITH d, rel, query, sqrt(modA) as modA, t order by t.word
    WITH d, t, rel.tf_idf as tf_idf, query[t.word]*t.idf as query_tf_idf, modA
    WITH d, modA, 
        collect({{word: t.word, 
                  query_tf_idf: query_tf_idf, 
                  mult_tf_idf: tf_idf*query_tf_idf}}) as vector
    WITH d, modA, vector, sqrt(reduce(acum = 0.0, n IN vector| acum + n.query_tf_idf)) as modB
    return d.url, d.original_text, reduce(acum = 0.0, n IN vector| acum + n.mult_tf_idf)/(modA*modB) 
    as similarity order by similarity desc
    """
    data = graph.run(query)

    print(query)

    for row in data:
        generate_result(row['d.original_text'], row['d.url'], stemmed, row['similarity'])
    # result = search_engine.process_query(search_term)

    # for term in result.keys():
    #     search_engine.generate_result(term, result)


def build_pagerank(graph):
    query = "MATCH (d:Document) RETURN d.url as url"
    data = graph.run(query)
    urls = dict()
    #
    for row in data:
        url = row['url'].replace('`', '')
        urls[url] = []
        response = requests.get(url)
        soup = BeautifulSoup(response.text)
        for link in soup.findAll('a'):
            parsed_link = link.get('href')
            if parsed_link and parsed_link.startswith('/blog'):
                urls[url].append(link.get('href'))

    # urls = {'https://www.lisaeldridge.com/blog/27754/im-nuts-for-coconuts/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/27716/when-sunscreen-meets-makeup-6-tinted-spfs/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/27765/be-bold-seven-power-pout-lipsticks/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/8/': ['/blog/', '/blog/make-up/', '/blog/skincare/', '/blog/inspiration/', '/blog/make-up-history/', '/blog/7611/shellac-nail-polish-the-verdict/', '/blog/7611/shellac-nail-polish-the-verdict/', '/blog/7553/my-top-tips-for-bridal-make-up/', '/blog/7553/my-top-tips-for-bridal-make-up/', '/blog/7494/inspiration-grace-kelly-wedding-day-beauty/', '/blog/7494/inspiration-grace-kelly-wedding-day-beauty/', '/blog/7408/inspiration-a-stitch-in-time/', '/blog/7408/inspiration-a-stitch-in-time/', '/blog/7355/gallery-update-kirsten-dunst-red-carpet/', '/blog/7355/gallery-update-kirsten-dunst-red-carpet/', '/blog/7328/the-12-shades-of-shellacwhich-one-would-you-go-for/', '/blog/7328/the-12-shades-of-shellacwhich-one-would-you-go-for/', '/blog/7180/lily-wins-3-ivor-novello-awards/', '/blog/7180/lily-wins-3-ivor-novello-awards/', '/blog/6972/make-up-shoot-for-vogue-chalky-pastels-trend/', '/blog/6972/make-up-shoot-for-vogue-chalky-pastels-trend/', '/blog/5956/no7s-75th-anniversary-shoot/', '/blog/5956/no7s-75th-anniversary-shoot/', '/blog/3070/new-video-my-favourite-brushes/', '/blog/3070/new-video-my-favourite-brushes/', '/blog/3000/lisa-loves-more-strawberries-please/', '/blog/3000/lisa-loves-more-strawberries-please/', '/blog/2780/done-and-undone-make-up-lisa-eldridge-style/', '/blog/2780/done-and-undone-make-up-lisa-eldridge-style/', '/blog/2580/gallery-update-emma-roberts-julia-roberts-niece/', '/blog/2580/gallery-update-emma-roberts-julia-roberts-niece/', '/blog/2487/lisa-loves-perfume-crush/', '/blog/2487/lisa-loves-perfume-crush/', '/blog/2409/lisa-loves-pound-stores-are-so-much-cooler-in-japan/', '/blog/2409/lisa-loves-pound-stores-are-so-much-cooler-in-japan/', '/blog/2241/lisa-loves-the-worlds-most-expensive-lipstick/', '/blog/2241/lisa-loves-the-worlds-most-expensive-lipstick/', '/blog/2187/loving-the-chanel-tattoos-but-not-the-price/', '/blog/2187/loving-the-chanel-tattoos-but-not-the-price/', '/blog/2176/red-carpet-hayley-atwell-at-the-olivier-awards/', '/blog/2176/red-carpet-hayley-atwell-at-the-olivier-awards/', '/blog/2100/my-purple-smoky-eye-tutorial-in-uk-grazias-first-ever-3d-issue/', '/blog/2100/my-purple-smoky-eye-tutorial-in-uk-grazias-first-ever-3d-issue/', '/blog/2067/inspiration-a-bit-of-make-up-history/', '/blog/2067/inspiration-a-bit-of-make-up-history/', '/blog/1959/its-a-lash-fest/', '/blog/1959/its-a-lash-fest/', '/blog/1868/avon-calling/', '/blog/1868/avon-calling/', '/blog/1845/lisa-loves-chanel-nouvelle-vague/', '/blog/1845/lisa-loves-chanel-nouvelle-vague/', '/blog/1836/lisa-loves-steven-meisel-limited-edition-jigsaw-puzzle/', '/blog/1836/lisa-loves-steven-meisel-limited-edition-jigsaw-puzzle/', '/blog/1808/gallery-update-clemence-poesy-in-aprils-uk-vogue/', '/blog/1808/gallery-update-clemence-poesy-in-aprils-uk-vogue/', '/blog/1802/inspiration-i-am-loving-this-1962-bert-stern-marilyn-monroe-shoot-from-my-vintage-copy-of-eros-magazine/', '/blog/1802/inspiration-i-am-loving-this-1962-bert-stern-marilyn-monroe-shoot-from-my-vintage-copy-of-eros-magazine/', '/blog/1785/been-in-my-studio-for-hours-thinking-about-nail-colour/', '/blog/1785/been-in-my-studio-for-hours-thinking-about-nail-colour/', '/blog/1760/red-carpet-lily-allens-make-up-for-the-bafta-party/', '/blog/1760/red-carpet-lily-allens-make-up-for-the-bafta-party/', '/blog/1664/vogue-beauty-shoot-and-behind-the-scenes-film/', '/blog/1664/vogue-beauty-shoot-and-behind-the-scenes-film/', '/blog/1647/7-decades-of-make-up/', '/blog/1647/7-decades-of-make-up/', '/blog/1631/christmas-collection-video/', '/blog/1631/christmas-collection-video/', '/blog/1543/yasmins-party/', '/blog/1543/yasmins-party/', '/blog/1548/red-carpet-keeley-hawes/', '/blog/1548/red-carpet-keeley-hawes/', '/blog/1542/10-years-younger-live/', '/blog/1542/10-years-younger-live/', '/blog/1540/gallery-update-amanda-seyfried-red-carpet/', '/blog/1540/gallery-update-amanda-seyfried-red-carpet/', '/blog/1538/sophie-dahl/', '/blog/1538/sophie-dahl/', '/blog/1385/osman-yousefzada-autumnwinter-200910/', '/blog/1385/osman-yousefzada-autumnwinter-200910/', '/blog/1051/ten-years-younger-returns/', '/blog/1051/ten-years-younger-returns/', '/blog/7/', '/blog/1/', '/blog/2/', '/blog/3/', '/blog/4/', '/blog/5/', '/blog/6/', '/blog/7/', '/blog/'], 'https://www.lisaeldridge.com/blog/7/': ['/blog/', '/blog/make-up/', '/blog/skincare/', '/blog/inspiration/', '/blog/make-up-history/', '/blog/15853/gallery-update-anna-kendrick/', '/blog/15853/gallery-update-anna-kendrick/', '/blog/15670/gallery-update-step-into-spring/', '/blog/15670/gallery-update-step-into-spring/', '/blog/15546/gallery-update-helena-christensen-at-the-elle-style-awards/', '/blog/15546/gallery-update-helena-christensen-at-the-elle-style-awards/', '/blog/15432/gallery-update-annette-bening-for-the-baftas/', '/blog/15432/gallery-update-annette-bening-for-the-baftas/', '/blog/15232/osman-backstage/', '/blog/15232/osman-backstage/', '/blog/15086/spring-wedding-make-up-live-webchat/', '/blog/15086/spring-wedding-make-up-live-webchat/', '/blog/14981/gallery-update-rose-byrne-for-instyle/', '/blog/14981/gallery-update-rose-byrne-for-instyle/', '/blog/14935/inspiration-illustrator-izzie-klingels/', '/blog/14935/inspiration-illustrator-izzie-klingels/', '/blog/14368/ask-lisa/', '/blog/14368/ask-lisa/', '/blog/14382/gallery-update-winter-beauty/', '/blog/14382/gallery-update-winter-beauty/', '/blog/14302/inspiration-odorantes/', '/blog/14302/inspiration-odorantes/', '/blog/14055/gallery-update-cheryl-cole-for-elle/', '/blog/14055/gallery-update-cheryl-cole-for-elle/', '/blog/13668/gallery-update-dannii-minogue/', '/blog/13668/gallery-update-dannii-minogue/', '/blog/13616/lisa-loves-favourite-beauty-decoration-on-my-christmas-tree-this-year/', '/blog/13616/lisa-loves-favourite-beauty-decoration-on-my-christmas-tree-this-year/', '/blog/13592/live-webchat-with-sunday-times-style-tomorrow/', '/blog/13592/live-webchat-with-sunday-times-style-tomorrow/', '/blog/13404/what-a-year/', '/blog/13404/what-a-year/', '/blog/13304/gallery-update-jourdan-dunn/', '/blog/13304/gallery-update-jourdan-dunn/', '/blog/13255/lisa-loves-kate-mouse-in-the-house/', '/blog/13255/lisa-loves-kate-mouse-in-the-house/', '/blog/13214/gallery-update-charlene-wittstock-for-tatler/', '/blog/13214/gallery-update-charlene-wittstock-for-tatler/', '/blog/13134/lisa-loves-its-already-looking-like-a-colourful-spring/', '/blog/13134/lisa-loves-its-already-looking-like-a-colourful-spring/', '/blog/13071/gallery-update-new-uk-glamour-beauty-pics/', '/blog/13071/gallery-update-new-uk-glamour-beauty-pics/', '/blog/12991/gallery-update-seeing-stars/', '/blog/12991/gallery-update-seeing-stars/', '/blog/12876/gallery-update-angelababy-for-vogue-china/', '/blog/12876/gallery-update-angelababy-for-vogue-china/', '/blog/12832/glitter-bomb-miu-mius-shoes-for-tanzania/', '/blog/12832/glitter-bomb-miu-mius-shoes-for-tanzania/', '/blog/12742/lisa-loves-my-new-favourite-primerthats-not-a-primer/', '/blog/12742/lisa-loves-my-new-favourite-primerthats-not-a-primer/', '/blog/12670/lisa-loves-embellishment-of-the-purple-variety/', '/blog/12670/lisa-loves-embellishment-of-the-purple-variety/', '/blog/12457/lisa-loves-the-one-about-the-make-up-artist-and-the-perfume/', '/blog/12457/lisa-loves-the-one-about-the-make-up-artist-and-the-perfume/', '/blog/12382/making-up-gorgeous-anna-j-in-portofino/', '/blog/12382/making-up-gorgeous-anna-j-in-portofino/', '/blog/12298/trend-dark-lipsticks/', '/blog/12298/trend-dark-lipsticks/', '/blog/12033/inspiration-vogue-models-bookfirst-look/', '/blog/12033/inspiration-vogue-models-bookfirst-look/', '/blog/11923/lisa-loves-my-backstage-secret-beauty-weapons/', '/blog/11923/lisa-loves-my-backstage-secret-beauty-weapons/', '/blog/11543/nicole-richie-new-cover-and-pictures/', '/blog/11543/nicole-richie-new-cover-and-pictures/', '/blog/11413/lisa-loves-my-lip-palettes-and-favourite-shades/', '/blog/11413/lisa-loves-my-lip-palettes-and-favourite-shades/', '/blog/11233/gallery-update-katy-perry/', '/blog/11233/gallery-update-katy-perry/', '/blog/10739/gallery-update-elles-belle/', '/blog/10739/gallery-update-elles-belle/', '/blog/9867/love-it-or-loathe-it-10-years-younger-is-back/', '/blog/9867/love-it-or-loathe-it-10-years-younger-is-back/', '/blog/9448/lipstick-in-the-shape-of-a-cat-yes-please/', '/blog/9448/lipstick-in-the-shape-of-a-cat-yes-please/', '/blog/9427/nail-colour-alert/', '/blog/9427/nail-colour-alert/', '/blog/8966/lips-of-the-rising-sun/', '/blog/8966/lips-of-the-rising-sun/', '/blog/8767/summers-here/', '/blog/8767/summers-here/', '/blog/6/', '/blog/8/', '/blog/1/', '/blog/2/', '/blog/3/', '/blog/4/', '/blog/5/', '/blog/6/', '/blog/8/', '/blog/'], 'https://www.lisaeldridge.com/blog/6/': ['/blog/', '/blog/make-up/', '/blog/skincare/', '/blog/inspiration/', '/blog/make-up-history/', '/blog/22959/red-carpet-kate-helena-vanessa/', '/blog/22959/red-carpet-kate-helena-vanessa/', '/blog/22486/gallery-update-liv-tyler-for-pantene/', '/blog/22486/gallery-update-liv-tyler-for-pantene/', '/blog/22337/lisa-loves-a-beauty-swoon/', '/blog/22337/lisa-loves-a-beauty-swoon/', '/blog/22156/lisa-loves-creme-textures-at-lfw/', '/blog/22156/lisa-loves-creme-textures-at-lfw/', '/blog/22049/gallery-update-gemma-arterton-for-vogue/', '/blog/22049/gallery-update-gemma-arterton-for-vogue/', '/blog/21954/gallery-update-liv-tyler/', '/blog/21954/gallery-update-liv-tyler/', '/blog/21893/lisa-loves-love-letters-with-make-up/', '/blog/21893/lisa-loves-love-letters-with-make-up/', '/blog/21784/gallery-update-girl-crush-clemence/', '/blog/21784/gallery-update-girl-crush-clemence/', '/blog/21724/gallery-update-fierce-block-brows/', '/blog/21724/gallery-update-fierce-block-brows/', '/blog/21667/inspiration-happy-birthday-david-bowie/', '/blog/21667/inspiration-happy-birthday-david-bowie/', '/blog/21551/gallery-update-tulisa/', '/blog/21551/gallery-update-tulisa/', '/blog/21496/red-carpet-kelly-reilly/', '/blog/21496/red-carpet-kelly-reilly/', '/blog/21313/lisa-loves-dream-in-full-colour/', '/blog/21313/lisa-loves-dream-in-full-colour/', '/blog/21134/gallery-update-vanessa-redgrave/', '/blog/21134/gallery-update-vanessa-redgrave/', '/blog/21050/lisa-loves-steamcream/', '/blog/21050/lisa-loves-steamcream/', '/blog/20971/gallery-update-anna-friel-eva-herzigova/', '/blog/20971/gallery-update-anna-friel-eva-herzigova/', '/blog/20849/red-carpet-sophie-dahl/', '/blog/20849/red-carpet-sophie-dahl/', '/blog/20780/lisa-loves-beauty-deja-vu/', '/blog/20780/lisa-loves-beauty-deja-vu/', '/blog/20736/inspiration-peter-lindbergh/', '/blog/20736/inspiration-peter-lindbergh/', '/blog/20588/red-carpet-joely-richardson/', '/blog/20588/red-carpet-joely-richardson/', '/blog/20415/lisa-loves-neom/', '/blog/20415/lisa-loves-neom/', '/blog/20333/gallery-update-emma-watson-for-elle/', '/blog/20333/gallery-update-emma-watson-for-elle/', '/blog/20237/lisa-loves-june-is-busting-out-all-over/', '/blog/20237/lisa-loves-june-is-busting-out-all-over/', '/blog/20201/red-carpet-gabriella-wilde/', '/blog/20201/red-carpet-gabriella-wilde/', '/blog/19087/fancy-coming-backstage-at-fashion-week-with-me/', '/blog/19087/fancy-coming-backstage-at-fashion-week-with-me/', '/blog/19047/gallery-update-elle-uk/', '/blog/19047/gallery-update-elle-uk/', '/blog/18957/lisa-loves-chanel-takes-over-harrods/', '/blog/18957/lisa-loves-chanel-takes-over-harrods/', '/blog/18724/inspiration-christine-keeler/', '/blog/18724/inspiration-christine-keeler/', '/blog/18473/gallery-update-turkish-vogue/', '/blog/18473/gallery-update-turkish-vogue/', '/blog/18172/gallery-update-sophie-dahl-red-carpet/', '/blog/18172/gallery-update-sophie-dahl-red-carpet/', '/blog/18118/thanks-everyone/', '/blog/18118/thanks-everyone/', '/blog/17828/come-and-meet-me/', '/blog/17828/come-and-meet-me/', '/blog/17593/gallery-update-gemma-arterton-for-the-red-carpet/', '/blog/17593/gallery-update-gemma-arterton-for-the-red-carpet/', '/blog/17465/gallery-update-romola-garai/', '/blog/17465/gallery-update-romola-garai/', '/blog/17337/gallery-update-hayley-atwell-bafta-tv-awards/', '/blog/17337/gallery-update-hayley-atwell-bafta-tv-awards/', '/blog/16968/gallery-update-the-saturdays/', '/blog/16968/gallery-update-the-saturdays/', '/blog/16844/lisa-loves-new-york-drugstore-buys/', '/blog/16844/lisa-loves-new-york-drugstore-buys/', '/blog/16709/inspiration-a-jewel-in-my-vintage-crown/', '/blog/16709/inspiration-a-jewel-in-my-vintage-crown/', '/blog/16458/inspiration-oh-you-pretty-things/', '/blog/16458/inspiration-oh-you-pretty-things/', '/blog/16159/what-i-wore-to-no10/', '/blog/16159/what-i-wore-to-no10/', '/blog/5/', '/blog/7/', '/blog/1/', '/blog/2/', '/blog/3/', '/blog/4/', '/blog/5/', '/blog/7/', '/blog/8/', '/blog/'], 'https://www.lisaeldridge.com/blog/5/': ['/blog/', '/blog/make-up/', '/blog/skincare/', '/blog/inspiration/', '/blog/make-up-history/', '/blog/25747/dear-lisa-a-wedding-story/', '/blog/25747/dear-lisa-a-wedding-story/', '/blog/25734/jessica-biel-at-cannes/', '/blog/25734/jessica-biel-at-cannes/', '/blog/25723/my-favourite-lip-pencils-for-creating-a-naturalnude-lip/', '/blog/25723/my-favourite-lip-pencils-for-creating-a-naturalnude-lip/', '/blog/25722/pinterested/', '/blog/25722/pinterested/', '/blog/25708/gallery-update-the-rite-of-spring/', '/blog/25708/gallery-update-the-rite-of-spring/', '/blog/25693/gallery-update-3-styles-of-natural/', '/blog/25693/gallery-update-3-styles-of-natural/', '/blog/25690/gallery-update-love-magazine/', '/blog/25690/gallery-update-love-magazine/', '/blog/25671/gallery-update-kate-winslet-for-bazaar/', '/blog/25671/gallery-update-kate-winslet-for-bazaar/', '/blog/25665/the-bespoke-fragrance-experience/', '/blog/25665/the-bespoke-fragrance-experience/', '/blog/25663/summers-coming/', '/blog/25663/summers-coming/', '/blog/25661/gallery-update-vogue-italia/', '/blog/25661/gallery-update-vogue-italia/', '/blog/25643/molten-silver-and-rose-gold-luxe-grunge-at-lfw/', '/blog/25643/molten-silver-and-rose-gold-luxe-grunge-at-lfw/', '/blog/25642/the-make-up-look-at-matthew-williamson/', '/blog/25642/the-make-up-look-at-matthew-williamson/', '/blog/25640/gemma-arterton-baftas-make-up-look/', '/blog/25640/gemma-arterton-baftas-make-up-look/', '/blog/25598/lisa-loves-winter-skin-favourites/', '/blog/25598/lisa-loves-winter-skin-favourites/', '/blog/25597/and-the-winners-are/', '/blog/25597/and-the-winners-are/', '/blog/25583/gallery-update-kylie-minogue/', '/blog/25583/gallery-update-kylie-minogue/', '/blog/25571/gallery-update-downton-abbeys-michelle-dockery/', '/blog/25571/gallery-update-downton-abbeys-michelle-dockery/', '/blog/25550/gallery-update-joan-smalls-product-rave/', '/blog/25550/gallery-update-joan-smalls-product-rave/', '/blog/25508/lisa-loves-le-grand-bal/', '/blog/25508/lisa-loves-le-grand-bal/', '/blog/25319/biba-and-beyond/', '/blog/25319/biba-and-beyond/', '/blog/25317/the-temple-of-tilbury-guest-artist/', '/blog/25317/the-temple-of-tilbury-guest-artist/', '/blog/25315/inspiration-buffalo-girl-talisa-soto/', '/blog/25315/inspiration-buffalo-girl-talisa-soto/', '/blog/25314/gallery-update-natasha-poly/', '/blog/25314/gallery-update-natasha-poly/', '/blog/25267/my-visit-to-the-berlin-kryolan-make-up-factory/', '/blog/25267/my-visit-to-the-berlin-kryolan-make-up-factory/', '/blog/25266/harvey-nichols-paper-make-up/', '/blog/25266/harvey-nichols-paper-make-up/', '/blog/25265/paper-make-up/', '/blog/25265/paper-make-up/', '/blog/25263/discover-your-skin-true-match/', '/blog/25263/discover-your-skin-true-match/', '/blog/25139/gothic-make-up-collections-story/', '/blog/25139/gothic-make-up-collections-story/', '/blog/25140/gallery-update-kate-winslet-vogue/', '/blog/25140/gallery-update-kate-winslet-vogue/', '/blog/24984/whats-in-my-personal-make-up-bag-this-week/', '/blog/24984/whats-in-my-personal-make-up-bag-this-week/', '/blog/24946/lisa-loves-looking-in-make-up-bags/', '/blog/24946/lisa-loves-looking-in-make-up-bags/', '/blog/24928/super-quick-smokey-eyes/', '/blog/24928/super-quick-smokey-eyes/', '/blog/24649/gallery-update-two-kate-editorials/', '/blog/24649/gallery-update-two-kate-editorials/', '/blog/24445/downton-abbeys-jessica-brown-findlay-red-carpet/', '/blog/24445/downton-abbeys-jessica-brown-findlay-red-carpet/', '/blog/24330/lisa-loves-photo-tech-meets-anti-aging/', '/blog/24330/lisa-loves-photo-tech-meets-anti-aging/', '/blog/24147/gallery-update-edie-campbell-as-pattie-boyd-for-lula/', '/blog/24147/gallery-update-edie-campbell-as-pattie-boyd-for-lula/', '/blog/23724/gallery-update-eva-green/', '/blog/23724/gallery-update-eva-green/', '/blog/23413/gallery-update-lara-stone/', '/blog/23413/gallery-update-lara-stone/', '/blog/23214/lisa-loves-holiday-things/', '/blog/23214/lisa-loves-holiday-things/', '/blog/4/', '/blog/6/', '/blog/1/', '/blog/2/', '/blog/3/', '/blog/4/', '/blog/6/', '/blog/7/', '/blog/8/', '/blog/'], 'https://www.lisaeldridge.com/blog/4/': ['/blog/', '/blog/make-up/', '/blog/skincare/', '/blog/inspiration/', '/blog/make-up-history/', '/blog/26446/makeupmoments-the-story-behind-a-clockwork-orange/', '/blog/26446/makeupmoments-the-story-behind-a-clockwork-orange/', '/blog/26443/alexa-chung-glamour-awards-red-carpet/', '/blog/26443/alexa-chung-glamour-awards-red-carpet/', '/blog/26419/lisa-loves-summer-orange/', '/blog/26419/lisa-loves-summer-orange/', '/blog/26413/flawlessfriday-bronzers-to-get-you-glowing/', '/blog/26413/flawlessfriday-bronzers-to-get-you-glowing/', '/blog/26402/lisa-loves-a-must-have-beauty-molecule-hyaluronic-acid/', '/blog/26402/lisa-loves-a-must-have-beauty-molecule-hyaluronic-acid/', '/blog/26397/flawlessfriday-a-few-pro-kit-favourites/', '/blog/26397/flawlessfriday-a-few-pro-kit-favourites/', '/blog/26393/and-the-winner-of-the-dfma-makeup-artist-course-is/', '/blog/26393/and-the-winner-of-the-dfma-makeup-artist-course-is/', '/blog/26355/over-Â£5000-worth-of-make-up-training-for-a-star-of-the-future/', '/blog/26355/over-Â£5000-worth-of-make-up-training-for-a-star-of-the-future/', '/blog/26324/lotion-low-down-smooth-into-summer/', '/blog/26324/lotion-low-down-smooth-into-summer/', '/blog/26295/mothers-day-treats/', '/blog/26295/mothers-day-treats/', '/blog/26277/lighten-up-its-time-for-a-foundation-refresh/', '/blog/26277/lighten-up-its-time-for-a-foundation-refresh/', '/blog/26221/london-fashion-week-aw14-alice-temperley-and-matthew-williamson/', '/blog/26221/london-fashion-week-aw14-alice-temperley-and-matthew-williamson/', '/blog/26220/london-fashion-week-aw14-grace/', '/blog/26220/london-fashion-week-aw14-grace/', '/blog/26207/david-baileys-stardust/', '/blog/26207/david-baileys-stardust/', '/blog/26206/winner-of-my-trailer-competition/', '/blog/26206/winner-of-my-trailer-competition/', '/blog/26192/keira-knightleys-red-carpet-make-up-get-the-look/', '/blog/26192/keira-knightleys-red-carpet-make-up-get-the-look/', '/blog/26189/the-beauty-pioneers-the-history-of-rimmel/', '/blog/26189/the-beauty-pioneers-the-history-of-rimmel/', '/blog/26149/stay-in-and-have-a-bath-its-january/', '/blog/26149/stay-in-and-have-a-bath-its-january/', '/blog/26163/new-for-new-year-eve-lom-launches-colour-cosmetics/', '/blog/26163/new-for-new-year-eve-lom-launches-colour-cosmetics/', '/blog/26161/the-mylisalook-winner-is-oops-ive-actually-got-12/', '/blog/26161/the-mylisalook-winner-is-oops-ive-actually-got-12/', '/blog/25982/keeping-it-fresh/', '/blog/25982/keeping-it-fresh/', '/blog/26145/brushes-at-the-ready-its-time-for-a-mylisalook-competition/', '/blog/26145/brushes-at-the-ready-its-time-for-a-mylisalook-competition/', '/blog/26142/and-the-winners-of-the-59-beauty-goodies-are/', '/blog/26142/and-the-winners-of-the-59-beauty-goodies-are/', '/blog/25981/multi-purpose-marvels/', '/blog/25981/multi-purpose-marvels/', '/blog/25988/from-club-to-catwalk-80s-exhibition/', '/blog/25988/from-club-to-catwalk-80s-exhibition/', '/blog/25945/kitchen-cupboard-beauty/', '/blog/25945/kitchen-cupboard-beauty/', '/blog/25995/100-years-of-bollywood-beauties/', '/blog/25995/100-years-of-bollywood-beauties/', '/blog/25934/win-all-the-makeup-featured-in-my-latest-video/', '/blog/25934/win-all-the-makeup-featured-in-my-latest-video/', '/blog/25885/think-what-goes-with-pink/', '/blog/25885/think-what-goes-with-pink/', '/blog/25880/the-beauty-pioneers-helena-rubinstein/', '/blog/25880/the-beauty-pioneers-helena-rubinstein/', '/blog/25869/gallery-update-the-lion-king/', '/blog/25869/gallery-update-the-lion-king/', '/blog/25269/keira-knightley-red-carpet/', '/blog/25269/keira-knightley-red-carpet/', '/blog/25872/make-up-for-the-boys/', '/blog/25872/make-up-for-the-boys/', '/blog/25842/gallery-update-love-magazine-covers/', '/blog/25842/gallery-update-love-magazine-covers/', '/blog/25849/my-zero-make-up-holiday-skincare-essentials/', '/blog/25849/my-zero-make-up-holiday-skincare-essentials/', '/blog/25848/chanel-avant-premiÃ¨re-de-chanel-collection/', '/blog/25848/chanel-avant-premiÃ¨re-de-chanel-collection/', '/blog/25822/pastures-new/', '/blog/25822/pastures-new/', '/blog/25764/seven-summer-reds/', '/blog/25764/seven-summer-reds/', '/blog/25761/cara-delevingnes-make-up/', '/blog/25761/cara-delevingnes-make-up/', '/blog/25751/you-make-me-blush/', '/blog/25751/you-make-me-blush/', '/blog/3/', '/blog/5/', '/blog/1/', '/blog/2/', '/blog/3/', '/blog/5/', '/blog/6/', '/blog/7/', '/blog/8/', '/blog/'], 'https://www.lisaeldridge.com/blog/3/': ['/blog/', '/blog/make-up/', '/blog/skincare/', '/blog/inspiration/', '/blog/make-up-history/', '/blog/26517/how-to-keep-your-cool/', '/blog/26517/how-to-keep-your-cool/', '/blog/27025/why-i-love-the-mayr/', '/blog/27025/why-i-love-the-mayr/', '/blog/26447/jet-setting-makeup-staples/', '/blog/26447/jet-setting-makeup-staples/', '/blog/26997/four-new-favourites-in-my-personal-stash/', '/blog/26997/four-new-favourites-in-my-personal-stash/', '/blog/26959/inspiration-â\x80\x98simplicity-is-complexity-resolvedâ\x80\x99/', '/blog/26959/inspiration-â\x80\x98simplicity-is-complexity-resolvedâ\x80\x99/', '/blog/26977/the-one-where-you-meet-an-idol-and-they-are-everything-you-hoped-and-more/', '/blog/26977/the-one-where-you-meet-an-idol-and-they-are-everything-you-hoped-and-more/', '/blog/26961/two-new-york-facials/', '/blog/26961/two-new-york-facials/', '/blog/26951/new-trend-sculpting-and-contouring-sticks/', '/blog/26951/new-trend-sculpting-and-contouring-sticks/', '/blog/26947/3-new-discoveries-for-sensitive-skin/', '/blog/26947/3-new-discoveries-for-sensitive-skin/', '/blog/26946/lisalovesaudrey-the-winning-looks/', '/blog/26946/lisalovesaudrey-the-winning-looks/', '/blog/26214/i-love-blush-my-pro-tips-and-tricks/', '/blog/26214/i-love-blush-my-pro-tips-and-tricks/', '/blog/26935/portraits-of-an-icon-the-must-see-audrey-hepburn-exhibition-giveaway/', '/blog/26935/portraits-of-an-icon-the-must-see-audrey-hepburn-exhibition-giveaway/', '/blog/26927/flawlessfriday-6-confidence-boosting-red-lipsticks/', '/blog/26927/flawlessfriday-6-confidence-boosting-red-lipsticks/', '/blog/26919/skincare-trend-alert-konjac-sponges/', '/blog/26919/skincare-trend-alert-konjac-sponges/', '/blog/26916/makeupmoments-keira-knightleys-look-in-atonement/', '/blog/26916/makeupmoments-keira-knightleys-look-in-atonement/', '/blog/26910/high-coverage-concealers-for-naturally-flawless-skin/', '/blog/26910/high-coverage-concealers-for-naturally-flawless-skin/', '/blog/26887/sheet-masks-easy-at-home-facials/', '/blog/26887/sheet-masks-easy-at-home-facials/', '/blog/26872/my-japanese-lash-lowdown/', '/blog/26872/my-japanese-lash-lowdown/', '/blog/26885/face-paint-the-story-of-makeup-behind-the-cover/', '/blog/26885/face-paint-the-story-of-makeup-behind-the-cover/', '/blog/26828/everyday-nude-palettes/', '/blog/26828/everyday-nude-palettes/', '/blog/26833/behind-the-scenes-with-vogue-paris/', '/blog/26833/behind-the-scenes-with-vogue-paris/', '/blog/26822/get-creative-for-a-chance-to-win-tickets-to-the-lancÃ´me-80th-birthday-party-in-paris-this-july/', '/blog/26822/get-creative-for-a-chance-to-win-tickets-to-the-lancÃ´me-80th-birthday-party-in-paris-this-july/', '/blog/26807/my-beauty-regime-on-long-haul-flights-an-update/', '/blog/26807/my-beauty-regime-on-long-haul-flights-an-update/', '/blog/26798/balmy-brights-easy-to-wear-lipsticks-that-suit-everyone/', '/blog/26798/balmy-brights-easy-to-wear-lipsticks-that-suit-everyone/', '/blog/26797/flawlessfriday-five-drugstore-concealers-that-really-work/', '/blog/26797/flawlessfriday-five-drugstore-concealers-that-really-work/', '/blog/26376/draw-the-line-graffiti-graphic-looks-for-vogue/', '/blog/26376/draw-the-line-graffiti-graphic-looks-for-vogue/', '/blog/26784/my-mayr-mask-must-haves/', '/blog/26784/my-mayr-mask-must-haves/', '/blog/26586/dear-lisa-an-inpirational-letter/', '/blog/26586/dear-lisa-an-inpirational-letter/', '/blog/26589/the-makeup-artist-on-tim-burtons-alice-in-wonderland-valli-oreilly-makeup-chat/', '/blog/26589/the-makeup-artist-on-tim-burtons-alice-in-wonderland-valli-oreilly-makeup-chat/', '/blog/26574/nail-polish-favourites-with-mega-manicurist-lorraine-griffin/', '/blog/26574/nail-polish-favourites-with-mega-manicurist-lorraine-griffin/', '/blog/26587/makeupmoments-off-with-her-head/', '/blog/26587/makeupmoments-off-with-her-head/', '/blog/26550/makeupmoments-clueless/', '/blog/26550/makeupmoments-clueless/', '/blog/26557/plum-chic-alternative-plums/', '/blog/26557/plum-chic-alternative-plums/', '/blog/26548/inspiration-a-brave-click-of-the-shutter-giveaway/', '/blog/26548/inspiration-a-brave-click-of-the-shutter-giveaway/', '/blog/26542/flawless-friday-lisa-loves-flash-rinse-1-minute-facial/', '/blog/26542/flawless-friday-lisa-loves-flash-rinse-1-minute-facial/', '/blog/26412/chanel-collection-Ã\x89tats-poÃ©tiques/', '/blog/26412/chanel-collection-Ã\x89tats-poÃ©tiques/', '/blog/26481/youth-in-a-tube/', '/blog/26481/youth-in-a-tube/', '/blog/26474/the-winner-of-my-makeup-artist-competition-shares-her-story/', '/blog/26474/the-winner-of-my-makeup-artist-competition-shares-her-story/', '/blog/26466/pout-protection-lipsticks-for-summer/', '/blog/26466/pout-protection-lipsticks-for-summer/', '/blog/26453/a-few-of-my-festival-beauty-essentials/', '/blog/26453/a-few-of-my-festival-beauty-essentials/', '/blog/2/', '/blog/4/', '/blog/1/', '/blog/2/', '/blog/4/', '/blog/5/', '/blog/6/', '/blog/7/', '/blog/8/', '/blog/'], 'https://www.lisaeldridge.com/blog/27687/the-beauty-pioneers-serge-lutens/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/27832/topping-up-for-the-new-season/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/28149/inspiration-ultra-modern-festival-makeup-looks/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/28138/green-water-revolution-the-new-micellars-on-the-block/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/28277/5-mascaras-tried-and-tested-at-the-houseofeldridge/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/28180/3-natural-and-organic-masks-im-packing/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/28330/pollution-products/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/28421/graphic-holographic-blue-eye-look-with-cris/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/28431/inspiration-amedeo-modigliani/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/28432/get-the-look-from-my-holiday-gift-guide-lips-and-eyes-tutorial/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/28274/my-current-favourite-matte-bronzers/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/28553/the-next-makeup-stars-competition-winners/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25849/my-zero-make-up-holiday-skincare-essentials/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25842/gallery-update-love-magazine-covers/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25872/make-up-for-the-boys/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25269/keira-knightley-red-carpet/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25869/gallery-update-the-lion-king/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25885/think-what-goes-with-pink/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25934/win-all-the-makeup-featured-in-my-latest-video/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25139/gothic-make-up-collections-story/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25263/discover-your-skin-true-match/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25265/paper-make-up/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25266/harvey-nichols-paper-make-up/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25267/my-visit-to-the-berlin-kryolan-make-up-factory/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25314/gallery-update-natasha-poly/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25315/inspiration-buffalo-girl-talisa-soto/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25317/the-temple-of-tilbury-guest-artist/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25319/biba-and-beyond/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25508/lisa-loves-le-grand-bal/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25550/gallery-update-joan-smalls-product-rave/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25571/gallery-update-downton-abbeys-michelle-dockery/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25764/seven-summer-reds/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25822/pastures-new/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/23214/lisa-loves-holiday-things/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/23724/gallery-update-eva-green/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/23413/gallery-update-lara-stone/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/24147/gallery-update-edie-campbell-as-pattie-boyd-for-lula/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/24445/downton-abbeys-jessica-brown-findlay-red-carpet/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/24649/gallery-update-two-kate-editorials/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/24330/lisa-loves-photo-tech-meets-anti-aging/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/': ['/blog/', '/blog/make-up/', '/blog/skincare/', '/blog/inspiration/', '/blog/make-up-history/', '/blog/28797/alexa-chung-bronzed-babe-summer-copper-eye-look/', '/blog/28797/alexa-chung-bronzed-babe-summer-copper-eye-look/', '/blog/28779/igtv-beginners-guide-to-achieving-your-best-skin-ever/', '/blog/28779/igtv-beginners-guide-to-achieving-your-best-skin-ever/', '/blog/28772/exclusive-sneak-peek-of-the-frieda-kahlo-va-making-her-self-up-exhibition-and-my-makeup-look/', '/blog/28772/exclusive-sneak-peek-of-the-frieda-kahlo-va-making-her-self-up-exhibition-and-my-makeup-look/', '/blog/28596/bafta-beauty-breakdown-gemma-arterton/', '/blog/28596/bafta-beauty-breakdown-gemma-arterton/', '/blog/28553/the-next-makeup-stars-competition-winners/', '/blog/28553/the-next-makeup-stars-competition-winners/', '/blog/28515/searching-for-the-next-makeup-star-Â£700000-940000-prize-up-for-grabs/', '/blog/28515/searching-for-the-next-makeup-star-Â£700000-940000-prize-up-for-grabs/', '/blog/28512/alexa-chung-beauty-breakdown-from-the-british-fashion-awards/', '/blog/28512/alexa-chung-beauty-breakdown-from-the-british-fashion-awards/', '/blog/28432/get-the-look-from-my-holiday-gift-guide-lips-and-eyes-tutorial/', '/blog/28432/get-the-look-from-my-holiday-gift-guide-lips-and-eyes-tutorial/', '/blog/28431/inspiration-amedeo-modigliani/', '/blog/28431/inspiration-amedeo-modigliani/', '/blog/28421/graphic-holographic-blue-eye-look-with-cris/', '/blog/28421/graphic-holographic-blue-eye-look-with-cris/', '/blog/28330/pollution-products/', '/blog/28330/pollution-products/', '/blog/28180/3-natural-and-organic-masks-im-packing/', '/blog/28180/3-natural-and-organic-masks-im-packing/', '/blog/28277/5-mascaras-tried-and-tested-at-the-houseofeldridge/', '/blog/28277/5-mascaras-tried-and-tested-at-the-houseofeldridge/', '/blog/28274/my-current-favourite-matte-bronzers/', '/blog/28274/my-current-favourite-matte-bronzers/', '/blog/28138/green-water-revolution-the-new-micellars-on-the-block/', '/blog/28138/green-water-revolution-the-new-micellars-on-the-block/', '/blog/28149/inspiration-ultra-modern-festival-makeup-looks/', '/blog/28149/inspiration-ultra-modern-festival-makeup-looks/', '/blog/28151/easy-holiday-lips-neons-and-naturals/', '/blog/28151/easy-holiday-lips-neons-and-naturals/', '/blog/28101/a-flush-of-blush-for-spring/', '/blog/28101/a-flush-of-blush-for-spring/', '/blog/28070/four-lip-looks-on-gorgeous-kate-bosworth/', '/blog/28070/four-lip-looks-on-gorgeous-kate-bosworth/', '/blog/28053/meet-your-match-5-treatment-cleansers/', '/blog/28053/meet-your-match-5-treatment-cleansers/', '/blog/27870/pamper-your-pout/', '/blog/27870/pamper-your-pout/', '/blog/28025/exfoliate-detoxify-and-moisturise-3-face-masks-iâ\x80\x99ve-been-testing-this-week/', '/blog/28025/exfoliate-detoxify-and-moisturise-3-face-masks-iâ\x80\x99ve-been-testing-this-week/', '/blog/27979/the-new-additions-to-my-in-flight-beauty-routine/', '/blog/27979/the-new-additions-to-my-in-flight-beauty-routine/', '/blog/27833/texture-trend-jelly-masks-for-a-hit-of-hydration/', '/blog/27833/texture-trend-jelly-masks-for-a-hit-of-hydration/', '/blog/27832/topping-up-for-the-new-season/', '/blog/27832/topping-up-for-the-new-season/', '/blog/27687/the-beauty-pioneers-serge-lutens/', '/blog/27687/the-beauty-pioneers-serge-lutens/', '/blog/27765/be-bold-seven-power-pout-lipsticks/', '/blog/27765/be-bold-seven-power-pout-lipsticks/', '/blog/27716/when-sunscreen-meets-makeup-6-tinted-spfs/', '/blog/27716/when-sunscreen-meets-makeup-6-tinted-spfs/', '/blog/27754/im-nuts-for-coconuts/', '/blog/27754/im-nuts-for-coconuts/', '/blog/27701/the-skinny-on-eyeshadow-sticks/', '/blog/27701/the-skinny-on-eyeshadow-sticks/', '/blog/27632/skincare-comeback-would-you-wash-your-face-with-soap/', '/blog/27632/skincare-comeback-would-you-wash-your-face-with-soap/', '/blog/27704/vintage-beauty-advice-from-hollywoods-makeup-legends/', '/blog/27704/vintage-beauty-advice-from-hollywoods-makeup-legends/', '/blog/27697/flawlessfriday-long-lasting-liquid-lipsticks/', '/blog/27697/flawlessfriday-long-lasting-liquid-lipsticks/', '/blog/27677/waterproof-mascaras-that-do-the-job/', '/blog/27677/waterproof-mascaras-that-do-the-job/', '/blog/27590/four-tried-and-tested-hydrators-that-suit-most-skin-types/', '/blog/27590/four-tried-and-tested-hydrators-that-suit-most-skin-types/', '/blog/27670/favourite-drugstore-concealers-updated/', '/blog/27670/favourite-drugstore-concealers-updated/', '/blog/27664/pink-lipsticks-for-every-skintone/', '/blog/27664/pink-lipsticks-for-every-skintone/', '/blog/27647/3-new-lip-obsessions/', '/blog/27647/3-new-lip-obsessions/', '/blog/27628/flawlessfriday-no-mask-masks/', '/blog/27628/flawlessfriday-no-mask-masks/', '/blog/27453/three-natural-mascaras-ive-tried-and-like/', '/blog/27453/three-natural-mascaras-ive-tried-and-like/', '/blog/2/', '/blog/2/', '/blog/3/', '/blog/4/', '/blog/5/', '/blog/6/', '/blog/7/', '/blog/8/', '/blog/'], 'https://www.lisaeldridge.com/blog/27677/waterproof-mascaras-that-do-the-job/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/27697/flawlessfriday-long-lasting-liquid-lipsticks/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/27453/three-natural-mascaras-ive-tried-and-like/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/27704/vintage-beauty-advice-from-hollywoods-makeup-legends/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/27647/3-new-lip-obsessions/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/27670/favourite-drugstore-concealers-updated/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/2/': ['/blog/', '/blog/make-up/', '/blog/skincare/', '/blog/inspiration/', '/blog/make-up-history/', '/blog/27597/flawlessfriday-five-of-the-best-waterproof-blues/', '/blog/27597/flawlessfriday-five-of-the-best-waterproof-blues/', '/blog/27540/new-york-beauty-spree/', '/blog/27540/new-york-beauty-spree/', '/blog/27582/when-a-trend-trickles-up-testing-the-luxury-waters/', '/blog/27582/when-a-trend-trickles-up-testing-the-luxury-waters/', '/blog/27526/embrace-the-zing-my-favourite-orange-lipsticks/', '/blog/27526/embrace-the-zing-my-favourite-orange-lipsticks/', '/blog/27528/giveaway-your-chance-to-own-an-exclusive-money-cant-buy-house-of-eldridge-candle/', '/blog/27528/giveaway-your-chance-to-own-an-exclusive-money-cant-buy-house-of-eldridge-candle/', '/blog/27498/boys-on-film-nick-rhodes-makeupmoments/', '/blog/27498/boys-on-film-nick-rhodes-makeupmoments/', '/blog/27496/flawlessfriday-long-lasting-lip-tips-and-3-of-my-current-favourites/', '/blog/27496/flawlessfriday-long-lasting-lip-tips-and-3-of-my-current-favourites/', '/blog/27501/nail-polish-without-the-odour/', '/blog/27501/nail-polish-without-the-odour/', '/blog/27389/c-for-clarity-why-vitamin-c-is-your-skins-best-friend/', '/blog/27389/c-for-clarity-why-vitamin-c-is-your-skins-best-friend/', '/blog/27467/flawlessfriday-sophia-lorens-brilliant-beauty-anecdotes/', '/blog/27467/flawlessfriday-sophia-lorens-brilliant-beauty-anecdotes/', '/blog/27444/foundations-for-weddings-and-all-your-other-red-carpet-moments/', '/blog/27444/foundations-for-weddings-and-all-your-other-red-carpet-moments/', '/blog/27460/flawlessfriday-highlow-treats-for-tired-skin/', '/blog/27460/flawlessfriday-highlow-treats-for-tired-skin/', '/blog/27419/texture-trend-gloss-grows-up/', '/blog/27419/texture-trend-gloss-grows-up/', '/blog/27420/five-of-the-best-modern-day-kohls/', '/blog/27420/five-of-the-best-modern-day-kohls/', '/blog/27426/metallic-minimalism-jil-sander-aw16-beauty-breakdown/', '/blog/27426/metallic-minimalism-jil-sander-aw16-beauty-breakdown/', '/blog/27365/four-new-finds-at-the-houseofeldridge/', '/blog/27365/four-new-finds-at-the-houseofeldridge/', '/blog/27364/three-old-loves/', '/blog/27364/three-old-loves/', '/blog/27316/in-essence-whats-an-essence/', '/blog/27316/in-essence-whats-an-essence/', '/blog/27321/makeupmoments-carol-cate-blanchetts-dreamiest-makeup-look-yet/', '/blog/27321/makeupmoments-carol-cate-blanchetts-dreamiest-makeup-look-yet/', '/blog/27326/kate-winslet-at-the-golden-globes-beauty-breakdown/', '/blog/27326/kate-winslet-at-the-golden-globes-beauty-breakdown/', '/blog/27314/exclusive-first-look-strobing-powders-for-a-january-glow/', '/blog/27314/exclusive-first-look-strobing-powders-for-a-january-glow/', '/blog/27287/kendalls-adventures-in-wonderland-behind-the-scenes-giveaway/', '/blog/27287/kendalls-adventures-in-wonderland-behind-the-scenes-giveaway/', '/blog/27313/new-years-eve-makeup-inspiration/', '/blog/27313/new-years-eve-makeup-inspiration/', '/blog/27312/some-favourites-from-my-makeup-tutorials-this-year/', '/blog/27312/some-favourites-from-my-makeup-tutorials-this-year/', '/blog/27290/about-last-week/', '/blog/27290/about-last-week/', '/blog/27221/my-facepaintbook-beauty-story-in-this-months-glamour-magazine/', '/blog/27221/my-facepaintbook-beauty-story-in-this-months-glamour-magazine/', '/blog/27151/brightening-ingredients-the-low-down-on-the-most-effective/', '/blog/27151/brightening-ingredients-the-low-down-on-the-most-effective/', '/blog/27123/four-great-cleansing-balms-without-mineral-oil/', '/blog/27123/four-great-cleansing-balms-without-mineral-oil/', '/blog/27145/glam-vs-gruesome-halloween-makeup-inspiration/', '/blog/27145/glam-vs-gruesome-halloween-makeup-inspiration/', '/blog/27149/my-favourite-youtube-guru-like-evvvverrrr/', '/blog/27149/my-favourite-youtube-guru-like-evvvverrrr/', '/blog/27150/win-a-ticket-to-my-facepaintbook-event-at-london-college-of-fashion/', '/blog/27150/win-a-ticket-to-my-facepaintbook-event-at-london-college-of-fashion/', '/blog/27144/beauty-breakdown-kate-winslet-universally-chic-red-carpet-look/', '/blog/27144/beauty-breakdown-kate-winslet-universally-chic-red-carpet-look/', '/blog/27140/laura-carmichael-red-carpet-makeup-look/', '/blog/27140/laura-carmichael-red-carpet-makeup-look/', '/blog/27125/my-fotd-makeup-look-for-my-facepaint-signing/', '/blog/27125/my-fotd-makeup-look-for-my-facepaint-signing/', '/blog/27093/come-and-celebrate-my-book-launch-with-me-facepaintbook/', '/blog/27093/come-and-celebrate-my-book-launch-with-me-facepaintbook/', '/blog/27082/velvet-fishnet-and-pearls-lips-reimagined/', '/blog/27082/velvet-fishnet-and-pearls-lips-reimagined/', '/blog/27083/nude-lipsticks-for-every-skin-tone/', '/blog/27083/nude-lipsticks-for-every-skin-tone/', '/blog/27066/new-skincare-ive-tried-liked/', '/blog/27066/new-skincare-ive-tried-liked/', '/blog/27036/texture-trend-alert-new-generation-sunscreen-oils/', '/blog/27036/texture-trend-alert-new-generation-sunscreen-oils/', '/blog/27034/makeupmoments-she-wore-blue-velvet/', '/blog/27034/makeupmoments-she-wore-blue-velvet/', '/blog/1/', '/blog/3/', '/blog/1/', '/blog/3/', '/blog/4/', '/blog/5/', '/blog/6/', '/blog/7/', '/blog/8/', '/blog/'], 'https://www.lisaeldridge.com/blog/27590/four-tried-and-tested-hydrators-that-suit-most-skin-types/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/27664/pink-lipsticks-for-every-skintone/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/27628/flawlessfriday-no-mask-masks/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/27833/texture-trend-jelly-masks-for-a-hit-of-hydration/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/27979/the-new-additions-to-my-in-flight-beauty-routine/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/27870/pamper-your-pout/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/28053/meet-your-match-5-treatment-cleansers/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/28070/four-lip-looks-on-gorgeous-kate-bosworth/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/28101/a-flush-of-blush-for-spring/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/28151/easy-holiday-lips-neons-and-naturals/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/28596/bafta-beauty-breakdown-gemma-arterton/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/28772/exclusive-sneak-peek-of-the-frieda-kahlo-va-making-her-self-up-exhibition-and-my-makeup-look/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/28779/igtv-beginners-guide-to-achieving-your-best-skin-ever/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/28512/alexa-chung-beauty-breakdown-from-the-british-fashion-awards/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/26453/a-few-of-my-festival-beauty-essentials/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/26376/draw-the-line-graffiti-graphic-looks-for-vogue/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/28436/iamedeo-modigliani-giveaway-terms-and-conditions/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/26872/my-japanese-lash-lowdown/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/26951/new-trend-sculpting-and-contouring-sticks/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/26447/jet-setting-makeup-staples/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25751/you-make-me-blush/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25761/cara-delevingnes-make-up/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/27632/skincare-comeback-would-you-wash-your-face-with-soap/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/27701/the-skinny-on-eyeshadow-sticks/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/24928/super-quick-smokey-eyes/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/24946/lisa-loves-looking-in-make-up-bags/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25140/gallery-update-kate-winslet-vogue/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25583/gallery-update-kylie-minogue/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25597/and-the-winners-are/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25598/lisa-loves-winter-skin-favourites/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25693/gallery-update-3-styles-of-natural/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/25734/jessica-biel-at-cannes/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/18118/thanks-everyone/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/20780/lisa-loves-beauty-deja-vu/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/8767/summers-here/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/8966/lips-of-the-rising-sun/': ['/blog/', '/blog/'], 'https://www.lisaeldridge.com/blog/9427/nail-colour-alert/': ['/blog/', '/blog/']}
    prefix = 'https://www.lisaeldridge.com'
    for key, value in urls.items():

        connected_urls = set(value)
        connected_urls = ['`' + prefix + item + '`' for item in connected_urls]
        excl = ['Ã','©','¨','â']
        connected_urls = list(filter(lambda x: not any(ext in x for ext in excl), connected_urls))

        query = f"""
        MATCH (d:Document) WHERE d.url='`{key}`'\
        MATCH (d1:Document) WHERE d1.url in {connected_urls}
        CREATE (d)-[:HAS_LINK_TO]->(d1)
        """
        print(query)
        graph.run(query)



if __name__ == '__main__':
    configuration = configparser.ConfigParser()
    configuration.read(
        os.path.join(os.path.dirname(os.path.dirname(os.path.abspath(__file__))),
                     'configuration'))

    graph = py2neo.Graph(
        f"bolt://{configuration.get('NEO4J', 'host')}:{configuration.get('NEO4J', 'port')}",
        auth=(
            configuration.get('NEO4J', 'username'), configuration.get('NEO4J', 'password')))
    main(graph)
    # build_pagerank(graph)
